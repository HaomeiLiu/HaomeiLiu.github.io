<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: light)">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)">
<meta name="generator" content="Hexo 5.4.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/assets/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/assets/favicon-16x16.png">
  <link rel="mask-icon" href="/assets/safari-pinned-tab.svg" color="#222">
  <link rel="manifest" href="/assets/site.webmanifest">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css" integrity="sha256-mUZM63G8m73Mcidfrv5E+Y61y7a12O5mW4ezU3bxqW4=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"haomeiliu.github.io","root":"/","images":"/images","scheme":"Pisces","darkmode":true,"version":"8.8.2","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":false,"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"}}</script><script src="/js/config.js"></script>
<meta name="description" content="SummaryThis project is for Dr. Manuel Monge’s iMedE Lab. In this project, we developed a tini temperature sensing and control system that measures the temperature of a tissue and heat it up 3-5 degree">
<meta property="og:type" content="article">
<meta property="og:title" content="USC IMedE Project - Temperature Sensing &amp; Control System">
<meta property="og:url" content="http://haomeiliu.github.io/2021/08/07/imede/index.html">
<meta property="og:site_name" content="进击的大白鲨">
<meta property="og:description" content="SummaryThis project is for Dr. Manuel Monge’s iMedE Lab. In this project, we developed a tini temperature sensing and control system that measures the temperature of a tissue and heat it up 3-5 degree">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://haomeiliu.github.io/images/projects/project_imede_block.jpg">
<meta property="og:image" content="http://haomeiliu.github.io/images/projects/project_imede_mcu.jpg">
<meta property="og:image" content="http://haomeiliu.github.io/images/projects/project_imede_pcb.jpg">
<meta property="article:published_time" content="2021-08-07T22:12:51.000Z">
<meta property="article:modified_time" content="2021-12-26T23:43:15.355Z">
<meta property="article:author" content="Haomei Liu">
<meta property="article:tag" content="research">
<meta property="article:tag" content="projects">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://haomeiliu.github.io/images/projects/project_imede_block.jpg">


<link rel="canonical" href="http://haomeiliu.github.io/2021/08/07/imede/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"http://haomeiliu.github.io/2021/08/07/imede/","path":"2021/08/07/imede/","title":"USC IMedE Project - Temperature Sensing & Control System"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>USC IMedE Project - Temperature Sensing & Control System | 进击的大白鲨</title>
  




  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">进击的大白鲨</p>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
        <li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li>
        <li class="menu-item menu-item-about"><a href="/About/" rel="section"><i class="fa fa-user fa-fw"></i>About</a></li>
        <li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a></li>
  </ul>
</nav>




</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Summary"><span class="nav-number">1.</span> <span class="nav-text">Summary</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Main-Functionalities"><span class="nav-number">2.</span> <span class="nav-text">Main Functionalities</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Hardware-Design"><span class="nav-number">3.</span> <span class="nav-text">Hardware Design</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#PID-Control"><span class="nav-number">4.</span> <span class="nav-text">PID Control</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#PWM"><span class="nav-number">5.</span> <span class="nav-text">PWM</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Testing-Procedure"><span class="nav-number">6.</span> <span class="nav-text">Testing Procedure</span></a></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Haomei Liu"
      src="/assets/favicon-32x32.png">
  <p class="site-author-name" itemprop="name">Haomei Liu</p>
  <div class="site-description" itemprop="description">A fiction writer, who does not love classical music, is not a good engineer.</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">5</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">2</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <a href="https://github.com/HaomeiLiu" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;HaomeiLiu" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:haomeili@usc.edu" title="E-Mail → mailto:haomeili@usc.edu" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>



        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="http://haomeiliu.github.io/2021/08/07/imede/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/assets/favicon-32x32.png">
      <meta itemprop="name" content="Haomei Liu">
      <meta itemprop="description" content="A fiction writer, who does not love classical music, is not a good engineer.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="进击的大白鲨">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          USC IMedE Project - Temperature Sensing & Control System
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2021-08-07 15:12:51" itemprop="dateCreated datePublished" datetime="2021-08-07T15:12:51-07:00">2021-08-07</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">Edited on</span>
        <time title="Modified: 2021-12-26 15:43:15" itemprop="dateModified" datetime="2021-12-26T15:43:15-08:00">2021-12-26</time>
      </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <h2 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h2><p>This project is for Dr. Manuel Monge’s iMedE Lab. In this project, we developed a tini temperature sensing and control system that measures the temperature of a tissue and heat it up 3-5 degree higher than the measurement. My work includes PID control system design (Arduino &amp; Matlab Control Toolbox) and PCB board bring up (Eagle).</p>
<img src="/images/projects/project_imede_block.jpg" alt="layout" width="500"/>

<span id="more"></span>

<h2 id="Main-Functionalities"><a href="#Main-Functionalities" class="headerlink" title="Main Functionalities"></a>Main Functionalities</h2><ul>
<li>Measure heater temperature and body temperature using Heraeus RTD sensor.</li>
<li>Control the temperature using a stainless steel cartridge heater.</li>
<li>A UI to adjust the set point with reference to the body temperature.</li>
</ul>
<h2 id="Hardware-Design"><a href="#Hardware-Design" class="headerlink" title="Hardware Design"></a>Hardware Design</h2><img src="/images/projects/project_imede_mcu.jpg" alt="layout" width="500"/>

<p>The ATmega328P microcontroller controls the system. The body temperature is measured and transferred to the MCU through RS-232 serial port. A custom PCB is made to convert the resistance to a digital output, which is then input to the MCU to do PID calculation. The result of PID calculation is sent again to the PCB as duty cycles of PWM to drive the heating element. </p>
<img src="/images/projects/project_imede_pcb.jpg" alt="layout" width="400"/>

<h2 id="PID-Control"><a href="#PID-Control" class="headerlink" title="PID Control"></a>PID Control</h2><p>A temperature controller reads a changing input temperature and adjusts the output signal so that the result temperature reaches a steady state near a set-point. The most intuitive way of controlling a heating element would be using a simple on-off control: the heater is on below the set point, and off below the set point. However, this does not meet the design’s requirement for accuracy. </p>
<p>Instead, a PID controller is used to perform the control. A PID controller consists of 3 coefficients: proportional, integral, and differential. </p>
<p>The temperature control system is a closed-loop system with time lag. The system can be described using a first order transfer function with delay. The parameter of the transfer function can be determined either through Malab’s System Identification toolbox or by obtaining the step response and deriving from the graph. Alternatively, without finding a model for the plant, Ziegler-Nichols Tuning Method can be used to tune the system by forcing the system into sustained oscillation.</p>
<p>Constraints of PID:</p>
<ul>
<li>Generally not suitable for MIMO systems</li>
<li>Limited ability in controlling non-linear systems</li>
</ul>
<h2 id="PWM"><a href="#PWM" class="headerlink" title="PWM"></a>PWM</h2><p>Analog output by controlling the duty cycle of square wave.</p>
<p>Two main modes of PWM: fast pwm and phase-correct pwm. We use fast pwm on pins 3 and 11 (Timer 2). The timer counts from 0 to OCRA. </p>
<p>Timer 1 (16-bit) can provide more frequency control.</p>
<h2 id="Testing-Procedure"><a href="#Testing-Procedure" class="headerlink" title="Testing Procedure"></a>Testing Procedure</h2><ol>
<li>Test Components </li>
<li>Get PID Constants</li>
<li>Implement Code in Arduino</li>
</ol>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/research/" rel="tag"># research</a>
              <a href="/tags/projects/" rel="tag"># projects</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/1970/12/14/hello-world/" rel="prev" title="Hello World">
                  <i class="fa fa-chevron-left"></i> Hello World
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2021/10/08/pdm/" rel="next" title="USC Racing - Power Distribution Module">
                  USC Racing - Power Distribution Module <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 2021 – 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fas fa-dragon"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Haomei Liu</span>
</div>

    </div>
  </footer>

  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script>

  





  





</body>
</html>
